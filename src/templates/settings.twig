{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * @author    Fork Unstable Media GmbH
 * @copyright Copyright (c) 2018 Fork Unstable Media GmbH
 * @link      https://www.fork.de/
 * @package   Embeds
 * @since     1.0.1
 */
#}

{% import "_includes/forms" as forms %}

{# Get all transforms #}
{% set imageTransforms = craft.app.getAssetTransforms.getAllTransforms() %}
{% set options = [] %}
{% for transform in imageTransforms %}
    {% set options = options|merge([{
        label: transform.name,
        value: transform.handle
    }]) %}
{% endfor %}

{# Get all image fields in embeds #}
{% set embedsField = craft.app.fields.getFieldByHandle("embeds").blockTypes %}

{% for blockType in embedsField %}
            {{ dump(blockType.fieldLayout.fields) }}
{% endfor %}

{#
{{ forms.textField({
    label: 'Test',
    instructions: 'Test',
    id: 'fieldToImageTransformMapping',
    name: 'fieldToImageTransformMapping',
    value: settings['fieldToImageTransformMapping']})
}}
#}

{{ forms.checkboxGroupField({
    label: 'Transforms',
    instructions: 'Select',
    id: 'transformsSelect',
    name: 'transformsSelect',
    options: options
}) }}
