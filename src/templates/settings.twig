{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * @author    Fork Unstable Media GmbH
 * @copyright Copyright (c) 2018 Fork Unstable Media GmbH
 * @link      https://www.fork.de/
 * @package   Embeds
 * @since     1.0.1
 */
#}

{% import "_includes/forms" as forms %}

{#
{{ forms.textField({
    label: 'Test',
    instructions: 'Test',
    id: 'fieldToImageTransformMapping',
    name: 'fieldToImageTransformMapping',
    value: settings['fieldToImageTransformMapping']})
}}
#}

{% for handle, field in settings %}
    {{ forms.hidden({
        id: ['fieldToImageTransformMapping', 'fieldId', field.fieldId]|join('_'),
        name: 'fieldToImageTransformMapping' ~ '[' ~ loop.index ~ ']' ~ '[fieldId]',
        value: field.fieldId
    }) }}

    {{ forms.checkboxGroupField({
        label: field.name,
        instructions: 'Select the image transforms to use for this field',
        id: field.handle,
        name: 'fieldToImageTransformMapping' ~ '[' ~ loop.index ~ ']' ~ '[transforms]',
        options: field.transforms
    }) }}
{% endfor %}
